{"ast":null,"code":"/*! lightslider - v1.1.6 - 2016-10-25\r\n* https://github.com/sachinchoolur/lightslider\r\n* Copyright (c) 2016 Sachin N; Licensed MIT */\n(function ($, undefined) {\n  'use strict';\n\n  var defaults = {\n    item: 3,\n    autoWidth: false,\n    slideMove: 1,\n    slideMargin: 10,\n    addClass: '',\n    mode: 'slide',\n    useCSS: true,\n    cssEasing: 'ease',\n    //'cubic-bezier(0.25, 0, 0.25, 1)',\n    easing: 'linear',\n    //'for jquery animation',//\n    speed: 400,\n    //ms'\n    auto: false,\n    pauseOnHover: false,\n    loop: false,\n    slideEndAnimation: true,\n    pause: 2000,\n    keyPress: false,\n    controls: true,\n    prevHtml: '',\n    nextHtml: '',\n    rtl: false,\n    adaptiveHeight: false,\n    vertical: false,\n    verticalHeight: 500,\n    vThumbWidth: 100,\n    thumbItem: 10,\n    pager: true,\n    gallery: false,\n    galleryMargin: 5,\n    thumbMargin: 5,\n    currentPagerPosition: 'middle',\n    enableTouch: true,\n    enableDrag: true,\n    freeMove: true,\n    swipeThreshold: 40,\n    responsive: [],\n\n    /* jshint ignore:start */\n    onBeforeStart: function ($el) {},\n    onSliderLoad: function ($el) {},\n    onBeforeSlide: function ($el, scene) {},\n    onAfterSlide: function ($el, scene) {},\n    onBeforeNextSlide: function ($el, scene) {},\n    onBeforePrevSlide: function ($el, scene) {}\n    /* jshint ignore:end */\n\n  };\n\n  $.fn.lightSlider = function (options) {\n    if (this.length === 0) {\n      return this;\n    }\n\n    if (this.length > 1) {\n      this.each(function () {\n        $(this).lightSlider(options);\n      });\n      return this;\n    }\n\n    var plugin = {},\n        settings = $.extend(true, {}, defaults, options),\n        settingsTemp = {},\n        $el = this;\n    plugin.$el = this;\n\n    if (settings.mode === 'fade') {\n      settings.vertical = false;\n    }\n\n    var $children = $el.children(),\n        windowW = $(window).width(),\n        breakpoint = null,\n        resposiveObj = null,\n        length = 0,\n        w = 0,\n        on = false,\n        elSize = 0,\n        $slide = '',\n        scene = 0,\n        property = settings.vertical === true ? 'height' : 'width',\n        gutter = settings.vertical === true ? 'margin-bottom' : 'margin-right',\n        slideValue = 0,\n        pagerWidth = 0,\n        slideWidth = 0,\n        thumbWidth = 0,\n        interval = null,\n        isTouch = ('ontouchstart' in document.documentElement);\n    var refresh = {};\n\n    refresh.chbreakpoint = function () {\n      windowW = $(window).width();\n\n      if (settings.responsive.length) {\n        var item;\n\n        if (settings.autoWidth === false) {\n          item = settings.item;\n        }\n\n        if (windowW < settings.responsive[0].breakpoint) {\n          for (var i = 0; i < settings.responsive.length; i++) {\n            if (windowW < settings.responsive[i].breakpoint) {\n              breakpoint = settings.responsive[i].breakpoint;\n              resposiveObj = settings.responsive[i];\n            }\n          }\n        }\n\n        if (typeof resposiveObj !== 'undefined' && resposiveObj !== null) {\n          for (var j in resposiveObj.settings) {\n            if (resposiveObj.settings.hasOwnProperty(j)) {\n              if (typeof settingsTemp[j] === 'undefined' || settingsTemp[j] === null) {\n                settingsTemp[j] = settings[j];\n              }\n\n              settings[j] = resposiveObj.settings[j];\n            }\n          }\n        }\n\n        if (!$.isEmptyObject(settingsTemp) && windowW > settings.responsive[0].breakpoint) {\n          for (var k in settingsTemp) {\n            if (settingsTemp.hasOwnProperty(k)) {\n              settings[k] = settingsTemp[k];\n            }\n          }\n        }\n\n        if (settings.autoWidth === false) {\n          if (slideValue > 0 && slideWidth > 0) {\n            if (item !== settings.item) {\n              scene = Math.round(slideValue / ((slideWidth + settings.slideMargin) * settings.slideMove));\n            }\n          }\n        }\n      }\n    };\n\n    refresh.calSW = function () {\n      if (settings.autoWidth === false) {\n        slideWidth = (elSize - (settings.item * settings.slideMargin - settings.slideMargin)) / settings.item;\n      }\n    };\n\n    refresh.calWidth = function (cln) {\n      var ln = cln === true ? $slide.find('.lslide').length : $children.length;\n\n      if (settings.autoWidth === false) {\n        w = ln * (slideWidth + settings.slideMargin);\n      } else {\n        w = 0;\n\n        for (var i = 0; i < ln; i++) {\n          w += parseInt($children.eq(i).width()) + settings.slideMargin;\n        }\n      }\n\n      return w;\n    };\n\n    plugin = {\n      doCss: function () {\n        var support = function () {\n          var transition = ['transition', 'MozTransition', 'WebkitTransition', 'OTransition', 'msTransition', 'KhtmlTransition'];\n          var root = document.documentElement;\n\n          for (var i = 0; i < transition.length; i++) {\n            if (transition[i] in root.style) {\n              return true;\n            }\n          }\n        };\n\n        if (settings.useCSS && support()) {\n          return true;\n        }\n\n        return false;\n      },\n      keyPress: function () {\n        if (settings.keyPress) {\n          $(document).on('keyup.lightslider', function (e) {\n            if (!$(':focus').is('input, textarea')) {\n              if (e.preventDefault) {\n                e.preventDefault();\n              } else {\n                e.returnValue = false;\n              }\n\n              if (e.keyCode === 37) {\n                $el.goToPrevSlide();\n              } else if (e.keyCode === 39) {\n                $el.goToNextSlide();\n              }\n            }\n          });\n        }\n      },\n      controls: function () {\n        if (settings.controls) {\n          $el.after('<div class=\"lSAction\"><a class=\"lSPrev\">' + settings.prevHtml + '</a><a class=\"lSNext\">' + settings.nextHtml + '</a></div>');\n\n          if (!settings.autoWidth) {\n            if (length <= settings.item) {\n              $slide.find('.lSAction').hide();\n            }\n          } else {\n            if (refresh.calWidth(false) < elSize) {\n              $slide.find('.lSAction').hide();\n            }\n          }\n\n          $slide.find('.lSAction a').on('click', function (e) {\n            if (e.preventDefault) {\n              e.preventDefault();\n            } else {\n              e.returnValue = false;\n            }\n\n            if ($(this).attr('class') === 'lSPrev') {\n              $el.goToPrevSlide();\n            } else {\n              $el.goToNextSlide();\n            }\n\n            return false;\n          });\n        }\n      },\n      initialStyle: function () {\n        var $this = this;\n\n        if (settings.mode === 'fade') {\n          settings.autoWidth = false;\n          settings.slideEndAnimation = false;\n        }\n\n        if (settings.auto) {\n          settings.slideEndAnimation = false;\n        }\n\n        if (settings.autoWidth) {\n          settings.slideMove = 1;\n          settings.item = 1;\n        }\n\n        if (settings.loop) {\n          settings.slideMove = 1;\n          settings.freeMove = false;\n        }\n\n        settings.onBeforeStart.call(this, $el);\n        refresh.chbreakpoint();\n        $el.addClass('lightSlider').wrap('<div class=\"lSSlideOuter ' + settings.addClass + '\"><div class=\"lSSlideWrapper\"></div></div>');\n        $slide = $el.parent('.lSSlideWrapper');\n\n        if (settings.rtl === true) {\n          $slide.parent().addClass('lSrtl');\n        }\n\n        if (settings.vertical) {\n          $slide.parent().addClass('vertical');\n          elSize = settings.verticalHeight;\n          $slide.css('height', elSize + 'px');\n        } else {\n          elSize = $el.outerWidth();\n        }\n\n        $children.addClass('lslide');\n\n        if (settings.loop === true && settings.mode === 'slide') {\n          refresh.calSW();\n\n          refresh.clone = function () {\n            if (refresh.calWidth(true) > elSize) {\n              /**/\n              var tWr = 0,\n                  tI = 0;\n\n              for (var k = 0; k < $children.length; k++) {\n                tWr += parseInt($el.find('.lslide').eq(k).width()) + settings.slideMargin;\n                tI++;\n\n                if (tWr >= elSize + settings.slideMargin) {\n                  break;\n                }\n              }\n\n              var tItem = settings.autoWidth === true ? tI : settings.item;\n              /**/\n\n              if (tItem < $el.find('.clone.left').length) {\n                for (var i = 0; i < $el.find('.clone.left').length - tItem; i++) {\n                  $children.eq(i).remove();\n                }\n              }\n\n              if (tItem < $el.find('.clone.right').length) {\n                for (var j = $children.length - 1; j > $children.length - 1 - $el.find('.clone.right').length; j--) {\n                  scene--;\n                  $children.eq(j).remove();\n                }\n              }\n              /**/\n\n\n              for (var n = $el.find('.clone.right').length; n < tItem; n++) {\n                $el.find('.lslide').eq(n).clone().removeClass('lslide').addClass('clone right').appendTo($el);\n                scene++;\n              }\n\n              for (var m = $el.find('.lslide').length - $el.find('.clone.left').length; m > $el.find('.lslide').length - tItem; m--) {\n                $el.find('.lslide').eq(m - 1).clone().removeClass('lslide').addClass('clone left').prependTo($el);\n              }\n\n              $children = $el.children();\n            } else {\n              if ($children.hasClass('clone')) {\n                $el.find('.clone').remove();\n                $this.move($el, 0);\n              }\n            }\n          };\n\n          refresh.clone();\n        }\n\n        refresh.sSW = function () {\n          length = $children.length;\n\n          if (settings.rtl === true && settings.vertical === false) {\n            gutter = 'margin-left';\n          }\n\n          if (settings.autoWidth === false) {\n            $children.css(property, slideWidth + 'px');\n          }\n\n          $children.css(gutter, settings.slideMargin + 'px');\n          w = refresh.calWidth(false);\n          $el.css(property, w + 'px');\n\n          if (settings.loop === true && settings.mode === 'slide') {\n            if (on === false) {\n              scene = $el.find('.clone.left').length;\n            }\n          }\n        };\n\n        refresh.calL = function () {\n          $children = $el.children();\n          length = $children.length;\n        };\n\n        if (this.doCss()) {\n          $slide.addClass('usingCss');\n        }\n\n        refresh.calL();\n\n        if (settings.mode === 'slide') {\n          refresh.calSW();\n          refresh.sSW();\n\n          if (settings.loop === true) {\n            slideValue = $this.slideValue();\n            this.move($el, slideValue);\n          }\n\n          if (settings.vertical === false) {\n            this.setHeight($el, false);\n          }\n        } else {\n          this.setHeight($el, true);\n          $el.addClass('lSFade');\n\n          if (!this.doCss()) {\n            $children.fadeOut(0);\n            $children.eq(scene).fadeIn(0);\n          }\n        }\n\n        if (settings.loop === true && settings.mode === 'slide') {\n          $children.eq(scene).addClass('active');\n        } else {\n          $children.first().addClass('active');\n        }\n      },\n      pager: function () {\n        var $this = this;\n\n        refresh.createPager = function () {\n          thumbWidth = (elSize - (settings.thumbItem * settings.thumbMargin - settings.thumbMargin)) / settings.thumbItem;\n          var $children = $slide.find('.lslide');\n          var length = $slide.find('.lslide').length;\n          var i = 0,\n              pagers = '',\n              v = 0;\n\n          for (i = 0; i < length; i++) {\n            if (settings.mode === 'slide') {\n              // calculate scene * slide value\n              if (!settings.autoWidth) {\n                v = i * ((slideWidth + settings.slideMargin) * settings.slideMove);\n              } else {\n                v += (parseInt($children.eq(i).width()) + settings.slideMargin) * settings.slideMove;\n              }\n            }\n\n            var thumb = $children.eq(i * settings.slideMove).attr('data-thumb');\n\n            if (settings.gallery === true) {\n              pagers += '<li style=\"width:100%;' + property + ':' + thumbWidth + 'px;' + gutter + ':' + settings.thumbMargin + 'px\"><a href=\"#\"><img src=\"' + thumb + '\" /></a></li>';\n            } else {\n              pagers += '<li><a href=\"#\">' + (i + 1) + '</a></li>';\n            }\n\n            if (settings.mode === 'slide') {\n              if (v >= w - elSize - settings.slideMargin) {\n                i = i + 1;\n                var minPgr = 2;\n\n                if (settings.autoWidth) {\n                  pagers += '<li><a href=\"#\">' + (i + 1) + '</a></li>';\n                  minPgr = 1;\n                }\n\n                if (i < minPgr) {\n                  pagers = null;\n                  $slide.parent().addClass('noPager');\n                } else {\n                  $slide.parent().removeClass('noPager');\n                }\n\n                break;\n              }\n            }\n          }\n\n          var $cSouter = $slide.parent();\n          $cSouter.find('.lSPager').html(pagers);\n\n          if (settings.gallery === true) {\n            if (settings.vertical === true) {\n              // set Gallery thumbnail width\n              $cSouter.find('.lSPager').css('width', settings.vThumbWidth + 'px');\n            }\n\n            pagerWidth = i * (settings.thumbMargin + thumbWidth) + 0.5;\n            $cSouter.find('.lSPager').css({\n              property: pagerWidth + 'px',\n              'transition-duration': settings.speed + 'ms'\n            });\n\n            if (settings.vertical === true) {\n              $slide.parent().css('padding-right', settings.vThumbWidth + settings.galleryMargin + 'px');\n            }\n\n            $cSouter.find('.lSPager').css(property, pagerWidth + 'px');\n          }\n\n          var $pager = $cSouter.find('.lSPager').find('li');\n          $pager.first().addClass('active');\n          $pager.on('click', function () {\n            if (settings.loop === true && settings.mode === 'slide') {\n              scene = scene + ($pager.index(this) - $cSouter.find('.lSPager').find('li.active').index());\n            } else {\n              scene = $pager.index(this);\n            }\n\n            $el.mode(false);\n\n            if (settings.gallery === true) {\n              $this.slideThumb();\n            }\n\n            return false;\n          });\n        };\n\n        if (settings.pager) {\n          var cl = 'lSpg';\n\n          if (settings.gallery) {\n            cl = 'lSGallery';\n          }\n\n          $slide.after('<ul class=\"lSPager ' + cl + '\"></ul>');\n          var gMargin = settings.vertical ? 'margin-left' : 'margin-top';\n          $slide.parent().find('.lSPager').css(gMargin, settings.galleryMargin + 'px');\n          refresh.createPager();\n        }\n\n        setTimeout(function () {\n          refresh.init();\n        }, 0);\n      },\n      setHeight: function (ob, fade) {\n        var obj = null,\n            $this = this;\n\n        if (settings.loop) {\n          obj = ob.children('.lslide ').first();\n        } else {\n          obj = ob.children().first();\n        }\n\n        var setCss = function () {\n          var tH = obj.outerHeight(),\n              tP = 0,\n              tHT = tH;\n\n          if (fade) {\n            tH = 0;\n            tP = tHT * 100 / elSize;\n          }\n\n          ob.css({\n            'height': tH + 'px',\n            'padding-bottom': tP + '%'\n          });\n        };\n\n        setCss();\n\n        if (obj.find('img').length) {\n          if (obj.find('img')[0].complete) {\n            setCss();\n\n            if (!interval) {\n              $this.auto();\n            }\n          } else {\n            obj.find('img').on('load', function () {\n              setTimeout(function () {\n                setCss();\n\n                if (!interval) {\n                  $this.auto();\n                }\n              }, 100);\n            });\n          }\n        } else {\n          if (!interval) {\n            $this.auto();\n          }\n        }\n      },\n      active: function (ob, t) {\n        if (this.doCss() && settings.mode === 'fade') {\n          $slide.addClass('on');\n        }\n\n        var sc = 0;\n\n        if (scene * settings.slideMove < length) {\n          ob.removeClass('active');\n\n          if (!this.doCss() && settings.mode === 'fade' && t === false) {\n            ob.fadeOut(settings.speed);\n          }\n\n          if (t === true) {\n            sc = scene;\n          } else {\n            sc = scene * settings.slideMove;\n          } //t === true ? sc = scene : sc = scene * settings.slideMove;\n\n\n          var l, nl;\n\n          if (t === true) {\n            l = ob.length;\n            nl = l - 1;\n\n            if (sc + 1 >= l) {\n              sc = nl;\n            }\n          }\n\n          if (settings.loop === true && settings.mode === 'slide') {\n            //t === true ? sc = scene - $el.find('.clone.left').length : sc = scene * settings.slideMove;\n            if (t === true) {\n              sc = scene - $el.find('.clone.left').length;\n            } else {\n              sc = scene * settings.slideMove;\n            }\n\n            if (t === true) {\n              l = ob.length;\n              nl = l - 1;\n\n              if (sc + 1 === l) {\n                sc = nl;\n              } else if (sc + 1 > l) {\n                sc = 0;\n              }\n            }\n          }\n\n          if (!this.doCss() && settings.mode === 'fade' && t === false) {\n            ob.eq(sc).fadeIn(settings.speed);\n          }\n\n          ob.eq(sc).addClass('active');\n        } else {\n          ob.removeClass('active');\n          ob.eq(ob.length - 1).addClass('active');\n\n          if (!this.doCss() && settings.mode === 'fade' && t === false) {\n            ob.fadeOut(settings.speed);\n            ob.eq(sc).fadeIn(settings.speed);\n          }\n        }\n      },\n      move: function (ob, v) {\n        if (settings.rtl === true) {\n          v = -v;\n        }\n\n        if (this.doCss()) {\n          if (settings.vertical === true) {\n            ob.css({\n              'transform': 'translate3d(0px, ' + -v + 'px, 0px)',\n              '-webkit-transform': 'translate3d(0px, ' + -v + 'px, 0px)'\n            });\n          } else {\n            ob.css({\n              'transform': 'translate3d(' + -v + 'px, 0px, 0px)',\n              '-webkit-transform': 'translate3d(' + -v + 'px, 0px, 0px)'\n            });\n          }\n        } else {\n          if (settings.vertical === true) {\n            ob.css('position', 'relative').animate({\n              top: -v + 'px'\n            }, settings.speed, settings.easing);\n          } else {\n            ob.css('position', 'relative').animate({\n              left: -v + 'px'\n            }, settings.speed, settings.easing);\n          }\n        }\n\n        var $thumb = $slide.parent().find('.lSPager').find('li');\n        this.active($thumb, true);\n      },\n      fade: function () {\n        this.active($children, false);\n        var $thumb = $slide.parent().find('.lSPager').find('li');\n        this.active($thumb, true);\n      },\n      slide: function () {\n        var $this = this;\n\n        refresh.calSlide = function () {\n          if (w > elSize) {\n            slideValue = $this.slideValue();\n            $this.active($children, false);\n\n            if (slideValue > w - elSize - settings.slideMargin) {\n              slideValue = w - elSize - settings.slideMargin;\n            } else if (slideValue < 0) {\n              slideValue = 0;\n            }\n\n            $this.move($el, slideValue);\n\n            if (settings.loop === true && settings.mode === 'slide') {\n              if (scene >= length - $el.find('.clone.left').length / settings.slideMove) {\n                $this.resetSlide($el.find('.clone.left').length);\n              }\n\n              if (scene === 0) {\n                $this.resetSlide($slide.find('.lslide').length);\n              }\n            }\n          }\n        };\n\n        refresh.calSlide();\n      },\n      resetSlide: function (s) {\n        var $this = this;\n        $slide.find('.lSAction a').addClass('disabled');\n        setTimeout(function () {\n          scene = s;\n          $slide.css('transition-duration', '0ms');\n          slideValue = $this.slideValue();\n          $this.active($children, false);\n          plugin.move($el, slideValue);\n          setTimeout(function () {\n            $slide.css('transition-duration', settings.speed + 'ms');\n            $slide.find('.lSAction a').removeClass('disabled');\n          }, 50);\n        }, settings.speed + 100);\n      },\n      slideValue: function () {\n        var _sV = 0;\n\n        if (settings.autoWidth === false) {\n          _sV = scene * ((slideWidth + settings.slideMargin) * settings.slideMove);\n        } else {\n          _sV = 0;\n\n          for (var i = 0; i < scene; i++) {\n            _sV += parseInt($children.eq(i).width()) + settings.slideMargin;\n          }\n        }\n\n        return _sV;\n      },\n      slideThumb: function () {\n        var position;\n\n        switch (settings.currentPagerPosition) {\n          case 'left':\n            position = 0;\n            break;\n\n          case 'middle':\n            position = elSize / 2 - thumbWidth / 2;\n            break;\n\n          case 'right':\n            position = elSize - thumbWidth;\n        }\n\n        var sc = scene - $el.find('.clone.left').length;\n        var $pager = $slide.parent().find('.lSPager');\n\n        if (settings.mode === 'slide' && settings.loop === true) {\n          if (sc >= $pager.children().length) {\n            sc = 0;\n          } else if (sc < 0) {\n            sc = $pager.children().length;\n          }\n        }\n\n        var thumbSlide = sc * (thumbWidth + settings.thumbMargin) - position;\n\n        if (thumbSlide + elSize > pagerWidth) {\n          thumbSlide = pagerWidth - elSize - settings.thumbMargin;\n        }\n\n        if (thumbSlide < 0) {\n          thumbSlide = 0;\n        }\n\n        this.move($pager, thumbSlide);\n      },\n      auto: function () {\n        if (settings.auto) {\n          clearInterval(interval);\n          interval = setInterval(function () {\n            $el.goToNextSlide();\n          }, settings.pause);\n        }\n      },\n      pauseOnHover: function () {\n        var $this = this;\n\n        if (settings.auto && settings.pauseOnHover) {\n          $slide.on('mouseenter', function () {\n            $(this).addClass('ls-hover');\n            $el.pause();\n            settings.auto = true;\n          });\n          $slide.on('mouseleave', function () {\n            $(this).removeClass('ls-hover');\n\n            if (!$slide.find('.lightSlider').hasClass('lsGrabbing')) {\n              $this.auto();\n            }\n          });\n        }\n      },\n      touchMove: function (endCoords, startCoords) {\n        $slide.css('transition-duration', '0ms');\n\n        if (settings.mode === 'slide') {\n          var distance = endCoords - startCoords;\n          var swipeVal = slideValue - distance;\n\n          if (swipeVal >= w - elSize - settings.slideMargin) {\n            if (settings.freeMove === false) {\n              swipeVal = w - elSize - settings.slideMargin;\n            } else {\n              var swipeValT = w - elSize - settings.slideMargin;\n              swipeVal = swipeValT + (swipeVal - swipeValT) / 5;\n            }\n          } else if (swipeVal < 0) {\n            if (settings.freeMove === false) {\n              swipeVal = 0;\n            } else {\n              swipeVal = swipeVal / 5;\n            }\n          }\n\n          this.move($el, swipeVal);\n        }\n      },\n      touchEnd: function (distance) {\n        $slide.css('transition-duration', settings.speed + 'ms');\n\n        if (settings.mode === 'slide') {\n          var mxVal = false;\n          var _next = true;\n          slideValue = slideValue - distance;\n\n          if (slideValue > w - elSize - settings.slideMargin) {\n            slideValue = w - elSize - settings.slideMargin;\n\n            if (settings.autoWidth === false) {\n              mxVal = true;\n            }\n          } else if (slideValue < 0) {\n            slideValue = 0;\n          }\n\n          var gC = function (next) {\n            var ad = 0;\n\n            if (!mxVal) {\n              if (next) {\n                ad = 1;\n              }\n            }\n\n            if (!settings.autoWidth) {\n              var num = slideValue / ((slideWidth + settings.slideMargin) * settings.slideMove);\n              scene = parseInt(num) + ad;\n\n              if (slideValue >= w - elSize - settings.slideMargin) {\n                if (num % 1 !== 0) {\n                  scene++;\n                }\n              }\n            } else {\n              var tW = 0;\n\n              for (var i = 0; i < $children.length; i++) {\n                tW += parseInt($children.eq(i).width()) + settings.slideMargin;\n                scene = i + ad;\n\n                if (tW >= slideValue) {\n                  break;\n                }\n              }\n            }\n          };\n\n          if (distance >= settings.swipeThreshold) {\n            gC(false);\n            _next = false;\n          } else if (distance <= -settings.swipeThreshold) {\n            gC(true);\n            _next = false;\n          }\n\n          $el.mode(_next);\n          this.slideThumb();\n        } else {\n          if (distance >= settings.swipeThreshold) {\n            $el.goToPrevSlide();\n          } else if (distance <= -settings.swipeThreshold) {\n            $el.goToNextSlide();\n          }\n        }\n      },\n      enableDrag: function () {\n        var $this = this;\n\n        if (!isTouch) {\n          var startCoords = 0,\n              endCoords = 0,\n              isDraging = false;\n          $slide.find('.lightSlider').addClass('lsGrab');\n          $slide.on('mousedown', function (e) {\n            if (w < elSize) {\n              if (w !== 0) {\n                return false;\n              }\n            }\n\n            if ($(e.target).attr('class') !== 'lSPrev' && $(e.target).attr('class') !== 'lSNext') {\n              startCoords = settings.vertical === true ? e.pageY : e.pageX;\n              isDraging = true;\n\n              if (e.preventDefault) {\n                e.preventDefault();\n              } else {\n                e.returnValue = false;\n              } // ** Fix for webkit cursor issue https://code.google.com/p/chromium/issues/detail?id=26723\n\n\n              $slide.scrollLeft += 1;\n              $slide.scrollLeft -= 1; // *\n\n              $slide.find('.lightSlider').removeClass('lsGrab').addClass('lsGrabbing');\n              clearInterval(interval);\n            }\n          });\n          $(window).on('mousemove', function (e) {\n            if (isDraging) {\n              endCoords = settings.vertical === true ? e.pageY : e.pageX;\n              $this.touchMove(endCoords, startCoords);\n            }\n          });\n          $(window).on('mouseup', function (e) {\n            if (isDraging) {\n              $slide.find('.lightSlider').removeClass('lsGrabbing').addClass('lsGrab');\n              isDraging = false;\n              endCoords = settings.vertical === true ? e.pageY : e.pageX;\n              var distance = endCoords - startCoords;\n\n              if (Math.abs(distance) >= settings.swipeThreshold) {\n                $(window).on('click.ls', function (e) {\n                  if (e.preventDefault) {\n                    e.preventDefault();\n                  } else {\n                    e.returnValue = false;\n                  }\n\n                  e.stopImmediatePropagation();\n                  e.stopPropagation();\n                  $(window).off('click.ls');\n                });\n              }\n\n              $this.touchEnd(distance);\n            }\n          });\n        }\n      },\n      enableTouch: function () {\n        var $this = this;\n\n        if (isTouch) {\n          var startCoords = {},\n              endCoords = {};\n          $slide.on('touchstart', function (e) {\n            endCoords = e.originalEvent.targetTouches[0];\n            startCoords.pageX = e.originalEvent.targetTouches[0].pageX;\n            startCoords.pageY = e.originalEvent.targetTouches[0].pageY;\n            clearInterval(interval);\n          });\n          $slide.on('touchmove', function (e) {\n            if (w < elSize) {\n              if (w !== 0) {\n                return false;\n              }\n            }\n\n            var orig = e.originalEvent;\n            endCoords = orig.targetTouches[0];\n            var xMovement = Math.abs(endCoords.pageX - startCoords.pageX);\n            var yMovement = Math.abs(endCoords.pageY - startCoords.pageY);\n\n            if (settings.vertical === true) {\n              if (yMovement * 3 > xMovement) {\n                e.preventDefault();\n              }\n\n              $this.touchMove(endCoords.pageY, startCoords.pageY);\n            } else {\n              if (xMovement * 3 > yMovement) {\n                e.preventDefault();\n              }\n\n              $this.touchMove(endCoords.pageX, startCoords.pageX);\n            }\n          });\n          $slide.on('touchend', function () {\n            if (w < elSize) {\n              if (w !== 0) {\n                return false;\n              }\n            }\n\n            var distance;\n\n            if (settings.vertical === true) {\n              distance = endCoords.pageY - startCoords.pageY;\n            } else {\n              distance = endCoords.pageX - startCoords.pageX;\n            }\n\n            $this.touchEnd(distance);\n          });\n        }\n      },\n      build: function () {\n        var $this = this;\n        $this.initialStyle();\n\n        if (this.doCss()) {\n          if (settings.enableTouch === true) {\n            $this.enableTouch();\n          }\n\n          if (settings.enableDrag === true) {\n            $this.enableDrag();\n          }\n        }\n\n        $(window).on('focus', function () {\n          $this.auto();\n        });\n        $(window).on('blur', function () {\n          clearInterval(interval);\n        });\n        $this.pager();\n        $this.pauseOnHover();\n        $this.controls();\n        $this.keyPress();\n      }\n    };\n    plugin.build();\n\n    refresh.init = function () {\n      refresh.chbreakpoint();\n\n      if (settings.vertical === true) {\n        if (settings.item > 1) {\n          elSize = settings.verticalHeight;\n        } else {\n          elSize = $children.outerHeight();\n        }\n\n        $slide.css('height', elSize + 'px');\n      } else {\n        elSize = $slide.outerWidth();\n      }\n\n      if (settings.loop === true && settings.mode === 'slide') {\n        refresh.clone();\n      }\n\n      refresh.calL();\n\n      if (settings.mode === 'slide') {\n        $el.removeClass('lSSlide');\n      }\n\n      if (settings.mode === 'slide') {\n        refresh.calSW();\n        refresh.sSW();\n      }\n\n      setTimeout(function () {\n        if (settings.mode === 'slide') {\n          $el.addClass('lSSlide');\n        }\n      }, 1000);\n\n      if (settings.pager) {\n        refresh.createPager();\n      }\n\n      if (settings.adaptiveHeight === true && settings.vertical === false) {\n        $el.css('height', $children.eq(scene).outerHeight(true));\n      }\n\n      if (settings.adaptiveHeight === false) {\n        if (settings.mode === 'slide') {\n          if (settings.vertical === false) {\n            plugin.setHeight($el, false);\n          } else {\n            plugin.auto();\n          }\n        } else {\n          plugin.setHeight($el, true);\n        }\n      }\n\n      if (settings.gallery === true) {\n        plugin.slideThumb();\n      }\n\n      if (settings.mode === 'slide') {\n        plugin.slide();\n      }\n\n      if (settings.autoWidth === false) {\n        if ($children.length <= settings.item) {\n          $slide.find('.lSAction').hide();\n        } else {\n          $slide.find('.lSAction').show();\n        }\n      } else {\n        if (refresh.calWidth(false) < elSize && w !== 0) {\n          $slide.find('.lSAction').hide();\n        } else {\n          $slide.find('.lSAction').show();\n        }\n      }\n    };\n\n    $el.goToPrevSlide = function () {\n      if (scene > 0) {\n        settings.onBeforePrevSlide.call(this, $el, scene);\n        scene--;\n        $el.mode(false);\n\n        if (settings.gallery === true) {\n          plugin.slideThumb();\n        }\n      } else {\n        if (settings.loop === true) {\n          settings.onBeforePrevSlide.call(this, $el, scene);\n\n          if (settings.mode === 'fade') {\n            var l = length - 1;\n            scene = parseInt(l / settings.slideMove);\n          }\n\n          $el.mode(false);\n\n          if (settings.gallery === true) {\n            plugin.slideThumb();\n          }\n        } else if (settings.slideEndAnimation === true) {\n          $el.addClass('leftEnd');\n          setTimeout(function () {\n            $el.removeClass('leftEnd');\n          }, 400);\n        }\n      }\n    };\n\n    $el.goToNextSlide = function () {\n      var nextI = true;\n\n      if (settings.mode === 'slide') {\n        var _slideValue = plugin.slideValue();\n\n        nextI = _slideValue < w - elSize - settings.slideMargin;\n      }\n\n      if (scene * settings.slideMove < length - settings.slideMove && nextI) {\n        settings.onBeforeNextSlide.call(this, $el, scene);\n        scene++;\n        $el.mode(false);\n\n        if (settings.gallery === true) {\n          plugin.slideThumb();\n        }\n      } else {\n        if (settings.loop === true) {\n          settings.onBeforeNextSlide.call(this, $el, scene);\n          scene = 0;\n          $el.mode(false);\n\n          if (settings.gallery === true) {\n            plugin.slideThumb();\n          }\n        } else if (settings.slideEndAnimation === true) {\n          $el.addClass('rightEnd');\n          setTimeout(function () {\n            $el.removeClass('rightEnd');\n          }, 400);\n        }\n      }\n    };\n\n    $el.mode = function (_touch) {\n      if (settings.adaptiveHeight === true && settings.vertical === false) {\n        $el.css('height', $children.eq(scene).outerHeight(true));\n      }\n\n      if (on === false) {\n        if (settings.mode === 'slide') {\n          if (plugin.doCss()) {\n            $el.addClass('lSSlide');\n\n            if (settings.speed !== '') {\n              $slide.css('transition-duration', settings.speed + 'ms');\n            }\n\n            if (settings.cssEasing !== '') {\n              $slide.css('transition-timing-function', settings.cssEasing);\n            }\n          }\n        } else {\n          if (plugin.doCss()) {\n            if (settings.speed !== '') {\n              $el.css('transition-duration', settings.speed + 'ms');\n            }\n\n            if (settings.cssEasing !== '') {\n              $el.css('transition-timing-function', settings.cssEasing);\n            }\n          }\n        }\n      }\n\n      if (!_touch) {\n        settings.onBeforeSlide.call(this, $el, scene);\n      }\n\n      if (settings.mode === 'slide') {\n        plugin.slide();\n      } else {\n        plugin.fade();\n      }\n\n      if (!$slide.hasClass('ls-hover')) {\n        plugin.auto();\n      }\n\n      setTimeout(function () {\n        if (!_touch) {\n          settings.onAfterSlide.call(this, $el, scene);\n        }\n      }, settings.speed);\n      on = true;\n    };\n\n    $el.play = function () {\n      $el.goToNextSlide();\n      settings.auto = true;\n      plugin.auto();\n    };\n\n    $el.pause = function () {\n      settings.auto = false;\n      clearInterval(interval);\n    };\n\n    $el.refresh = function () {\n      refresh.init();\n    };\n\n    $el.getCurrentSlideCount = function () {\n      var sc = scene;\n\n      if (settings.loop) {\n        var ln = $slide.find('.lslide').length,\n            cl = $el.find('.clone.left').length;\n\n        if (scene <= cl - 1) {\n          sc = ln + (scene - cl);\n        } else if (scene >= ln + cl) {\n          sc = scene - ln - cl;\n        } else {\n          sc = scene - cl;\n        }\n      }\n\n      return sc + 1;\n    };\n\n    $el.getTotalSlideCount = function () {\n      return $slide.find('.lslide').length;\n    };\n\n    $el.goToSlide = function (s) {\n      if (settings.loop) {\n        scene = s + $el.find('.clone.left').length - 1;\n      } else {\n        scene = s;\n      }\n\n      $el.mode(false);\n\n      if (settings.gallery === true) {\n        plugin.slideThumb();\n      }\n    };\n\n    $el.destroy = function () {\n      if ($el.lightSlider) {\n        $el.goToPrevSlide = function () {};\n\n        $el.goToNextSlide = function () {};\n\n        $el.mode = function () {};\n\n        $el.play = function () {};\n\n        $el.pause = function () {};\n\n        $el.refresh = function () {};\n\n        $el.getCurrentSlideCount = function () {};\n\n        $el.getTotalSlideCount = function () {};\n\n        $el.goToSlide = function () {};\n\n        $el.lightSlider = null;\n        refresh = {\n          init: function () {}\n        };\n        $el.parent().parent().find('.lSAction, .lSPager').remove();\n        $el.removeClass('lightSlider lSFade lSSlide lsGrab lsGrabbing leftEnd right').removeAttr('style').unwrap().unwrap();\n        $el.children().removeAttr('style');\n        $children.removeClass('lslide active');\n        $el.find('.clone').remove();\n        $children = null;\n        interval = null;\n        on = false;\n        scene = 0;\n      }\n    };\n\n    setTimeout(function () {\n      settings.onSliderLoad.call(this, $el);\n    }, 10);\n    $(window).on('resize orientationchange', function (e) {\n      setTimeout(function () {\n        if (e.preventDefault) {\n          e.preventDefault();\n        } else {\n          e.returnValue = false;\n        }\n\n        refresh.init();\n      }, 200);\n    });\n    return this;\n  };\n})(jQuery);","map":{"version":3,"sources":["C:/Users/aa/lettuce/node_modules/lightslider/dist/js/lightslider.js"],"names":["$","undefined","defaults","item","autoWidth","slideMove","slideMargin","addClass","mode","useCSS","cssEasing","easing","speed","auto","pauseOnHover","loop","slideEndAnimation","pause","keyPress","controls","prevHtml","nextHtml","rtl","adaptiveHeight","vertical","verticalHeight","vThumbWidth","thumbItem","pager","gallery","galleryMargin","thumbMargin","currentPagerPosition","enableTouch","enableDrag","freeMove","swipeThreshold","responsive","onBeforeStart","$el","onSliderLoad","onBeforeSlide","scene","onAfterSlide","onBeforeNextSlide","onBeforePrevSlide","fn","lightSlider","options","length","each","plugin","settings","extend","settingsTemp","$children","children","windowW","window","width","breakpoint","resposiveObj","w","on","elSize","$slide","property","gutter","slideValue","pagerWidth","slideWidth","thumbWidth","interval","isTouch","document","documentElement","refresh","chbreakpoint","i","j","hasOwnProperty","isEmptyObject","k","Math","round","calSW","calWidth","cln","ln","find","parseInt","eq","doCss","support","transition","root","style","e","is","preventDefault","returnValue","keyCode","goToPrevSlide","goToNextSlide","after","hide","attr","initialStyle","$this","call","wrap","parent","css","outerWidth","clone","tWr","tI","tItem","remove","n","removeClass","appendTo","m","prependTo","hasClass","move","sSW","calL","setHeight","fadeOut","fadeIn","first","createPager","pagers","v","thumb","minPgr","$cSouter","html","$pager","index","slideThumb","cl","gMargin","setTimeout","init","ob","fade","obj","setCss","tH","outerHeight","tP","tHT","complete","active","t","sc","l","nl","animate","top","left","$thumb","slide","calSlide","resetSlide","s","_sV","position","thumbSlide","clearInterval","setInterval","touchMove","endCoords","startCoords","distance","swipeVal","swipeValT","touchEnd","mxVal","_next","gC","next","ad","num","tW","isDraging","target","pageY","pageX","scrollLeft","abs","stopImmediatePropagation","stopPropagation","off","originalEvent","targetTouches","orig","xMovement","yMovement","build","show","nextI","_slideValue","_touch","play","getCurrentSlideCount","getTotalSlideCount","goToSlide","destroy","removeAttr","unwrap","jQuery"],"mappings":"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","sourcesContent":["/*! lightslider - v1.1.6 - 2016-10-25\r\n* https://github.com/sachinchoolur/lightslider\r\n* Copyright (c) 2016 Sachin N; Licensed MIT */\r\n(function ($, undefined) {\r\n    'use strict';\r\n    var defaults = {\r\n        item: 3,\r\n        autoWidth: false,\r\n        slideMove: 1,\r\n        slideMargin: 10,\r\n        addClass: '',\r\n        mode: 'slide',\r\n        useCSS: true,\r\n        cssEasing: 'ease', //'cubic-bezier(0.25, 0, 0.25, 1)',\r\n        easing: 'linear', //'for jquery animation',//\r\n        speed: 400, //ms'\r\n        auto: false,\r\n        pauseOnHover: false,\r\n        loop: false,\r\n        slideEndAnimation: true,\r\n        pause: 2000,\r\n        keyPress: false,\r\n        controls: true,\r\n        prevHtml: '',\r\n        nextHtml: '',\r\n        rtl: false,\r\n        adaptiveHeight: false,\r\n        vertical: false,\r\n        verticalHeight: 500,\r\n        vThumbWidth: 100,\r\n        thumbItem: 10,\r\n        pager: true,\r\n        gallery: false,\r\n        galleryMargin: 5,\r\n        thumbMargin: 5,\r\n        currentPagerPosition: 'middle',\r\n        enableTouch: true,\r\n        enableDrag: true,\r\n        freeMove: true,\r\n        swipeThreshold: 40,\r\n        responsive: [],\r\n        /* jshint ignore:start */\r\n        onBeforeStart: function ($el) {},\r\n        onSliderLoad: function ($el) {},\r\n        onBeforeSlide: function ($el, scene) {},\r\n        onAfterSlide: function ($el, scene) {},\r\n        onBeforeNextSlide: function ($el, scene) {},\r\n        onBeforePrevSlide: function ($el, scene) {}\r\n        /* jshint ignore:end */\r\n    };\r\n    $.fn.lightSlider = function (options) {\r\n        if (this.length === 0) {\r\n            return this;\r\n        }\r\n\r\n        if (this.length > 1) {\r\n            this.each(function () {\r\n                $(this).lightSlider(options);\r\n            });\r\n            return this;\r\n        }\r\n\r\n        var plugin = {},\r\n            settings = $.extend(true, {}, defaults, options),\r\n            settingsTemp = {},\r\n            $el = this;\r\n        plugin.$el = this;\r\n\r\n        if (settings.mode === 'fade') {\r\n            settings.vertical = false;\r\n        }\r\n        var $children = $el.children(),\r\n            windowW = $(window).width(),\r\n            breakpoint = null,\r\n            resposiveObj = null,\r\n            length = 0,\r\n            w = 0,\r\n            on = false,\r\n            elSize = 0,\r\n            $slide = '',\r\n            scene = 0,\r\n            property = (settings.vertical === true) ? 'height' : 'width',\r\n            gutter = (settings.vertical === true) ? 'margin-bottom' : 'margin-right',\r\n            slideValue = 0,\r\n            pagerWidth = 0,\r\n            slideWidth = 0,\r\n            thumbWidth = 0,\r\n            interval = null,\r\n            isTouch = ('ontouchstart' in document.documentElement);\r\n        var refresh = {};\r\n\r\n        refresh.chbreakpoint = function () {\r\n            windowW = $(window).width();\r\n            if (settings.responsive.length) {\r\n                var item;\r\n                if (settings.autoWidth === false) {\r\n                    item = settings.item;\r\n                }\r\n                if (windowW < settings.responsive[0].breakpoint) {\r\n                    for (var i = 0; i < settings.responsive.length; i++) {\r\n                        if (windowW < settings.responsive[i].breakpoint) {\r\n                            breakpoint = settings.responsive[i].breakpoint;\r\n                            resposiveObj = settings.responsive[i];\r\n                        }\r\n                    }\r\n                }\r\n                if (typeof resposiveObj !== 'undefined' && resposiveObj !== null) {\r\n                    for (var j in resposiveObj.settings) {\r\n                        if (resposiveObj.settings.hasOwnProperty(j)) {\r\n                            if (typeof settingsTemp[j] === 'undefined' || settingsTemp[j] === null) {\r\n                                settingsTemp[j] = settings[j];\r\n                            }\r\n                            settings[j] = resposiveObj.settings[j];\r\n                        }\r\n                    }\r\n                }\r\n                if (!$.isEmptyObject(settingsTemp) && windowW > settings.responsive[0].breakpoint) {\r\n                    for (var k in settingsTemp) {\r\n                        if (settingsTemp.hasOwnProperty(k)) {\r\n                            settings[k] = settingsTemp[k];\r\n                        }\r\n                    }\r\n                }\r\n                if (settings.autoWidth === false) {\r\n                    if (slideValue > 0 && slideWidth > 0) {\r\n                        if (item !== settings.item) {\r\n                            scene = Math.round(slideValue / ((slideWidth + settings.slideMargin) * settings.slideMove));\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n\r\n        refresh.calSW = function () {\r\n            if (settings.autoWidth === false) {\r\n                slideWidth = (elSize - ((settings.item * (settings.slideMargin)) - settings.slideMargin)) / settings.item;\r\n            }\r\n        };\r\n\r\n        refresh.calWidth = function (cln) {\r\n            var ln = cln === true ? $slide.find('.lslide').length : $children.length;\r\n            if (settings.autoWidth === false) {\r\n                w = ln * (slideWidth + settings.slideMargin);\r\n            } else {\r\n                w = 0;\r\n                for (var i = 0; i < ln; i++) {\r\n                    w += (parseInt($children.eq(i).width()) + settings.slideMargin);\r\n                }\r\n            }\r\n            return w;\r\n        };\r\n        plugin = {\r\n            doCss: function () {\r\n                var support = function () {\r\n                    var transition = ['transition', 'MozTransition', 'WebkitTransition', 'OTransition', 'msTransition', 'KhtmlTransition'];\r\n                    var root = document.documentElement;\r\n                    for (var i = 0; i < transition.length; i++) {\r\n                        if (transition[i] in root.style) {\r\n                            return true;\r\n                        }\r\n                    }\r\n                };\r\n                if (settings.useCSS && support()) {\r\n                    return true;\r\n                }\r\n                return false;\r\n            },\r\n            keyPress: function () {\r\n                if (settings.keyPress) {\r\n                    $(document).on('keyup.lightslider', function (e) {\r\n                        if (!$(':focus').is('input, textarea')) {\r\n                            if (e.preventDefault) {\r\n                                e.preventDefault();\r\n                            } else {\r\n                                e.returnValue = false;\r\n                            }\r\n                            if (e.keyCode === 37) {\r\n                                $el.goToPrevSlide();\r\n                            } else if (e.keyCode === 39) {\r\n                                $el.goToNextSlide();\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            },\r\n            controls: function () {\r\n                if (settings.controls) {\r\n                    $el.after('<div class=\"lSAction\"><a class=\"lSPrev\">' + settings.prevHtml + '</a><a class=\"lSNext\">' + settings.nextHtml + '</a></div>');\r\n                    if (!settings.autoWidth) {\r\n                        if (length <= settings.item) {\r\n                            $slide.find('.lSAction').hide();\r\n                        }\r\n                    } else {\r\n                        if (refresh.calWidth(false) < elSize) {\r\n                            $slide.find('.lSAction').hide();\r\n                        }\r\n                    }\r\n                    $slide.find('.lSAction a').on('click', function (e) {\r\n                        if (e.preventDefault) {\r\n                            e.preventDefault();\r\n                        } else {\r\n                            e.returnValue = false;\r\n                        }\r\n                        if ($(this).attr('class') === 'lSPrev') {\r\n                            $el.goToPrevSlide();\r\n                        } else {\r\n                            $el.goToNextSlide();\r\n                        }\r\n                        return false;\r\n                    });\r\n                }\r\n            },\r\n            initialStyle: function () {\r\n                var $this = this;\r\n                if (settings.mode === 'fade') {\r\n                    settings.autoWidth = false;\r\n                    settings.slideEndAnimation = false;\r\n                }\r\n                if (settings.auto) {\r\n                    settings.slideEndAnimation = false;\r\n                }\r\n                if (settings.autoWidth) {\r\n                    settings.slideMove = 1;\r\n                    settings.item = 1;\r\n                }\r\n                if (settings.loop) {\r\n                    settings.slideMove = 1;\r\n                    settings.freeMove = false;\r\n                }\r\n                settings.onBeforeStart.call(this, $el);\r\n                refresh.chbreakpoint();\r\n                $el.addClass('lightSlider').wrap('<div class=\"lSSlideOuter ' + settings.addClass + '\"><div class=\"lSSlideWrapper\"></div></div>');\r\n                $slide = $el.parent('.lSSlideWrapper');\r\n                if (settings.rtl === true) {\r\n                    $slide.parent().addClass('lSrtl');\r\n                }\r\n                if (settings.vertical) {\r\n                    $slide.parent().addClass('vertical');\r\n                    elSize = settings.verticalHeight;\r\n                    $slide.css('height', elSize + 'px');\r\n                } else {\r\n                    elSize = $el.outerWidth();\r\n                }\r\n                $children.addClass('lslide');\r\n                if (settings.loop === true && settings.mode === 'slide') {\r\n                    refresh.calSW();\r\n                    refresh.clone = function () {\r\n                        if (refresh.calWidth(true) > elSize) {\r\n                            /**/\r\n                            var tWr = 0,\r\n                                tI = 0;\r\n                            for (var k = 0; k < $children.length; k++) {\r\n                                tWr += (parseInt($el.find('.lslide').eq(k).width()) + settings.slideMargin);\r\n                                tI++;\r\n                                if (tWr >= (elSize + settings.slideMargin)) {\r\n                                    break;\r\n                                }\r\n                            }\r\n                            var tItem = settings.autoWidth === true ? tI : settings.item;\r\n\r\n                            /**/\r\n                            if (tItem < $el.find('.clone.left').length) {\r\n                                for (var i = 0; i < $el.find('.clone.left').length - tItem; i++) {\r\n                                    $children.eq(i).remove();\r\n                                }\r\n                            }\r\n                            if (tItem < $el.find('.clone.right').length) {\r\n                                for (var j = $children.length - 1; j > ($children.length - 1 - $el.find('.clone.right').length); j--) {\r\n                                    scene--;\r\n                                    $children.eq(j).remove();\r\n                                }\r\n                            }\r\n                            /**/\r\n                            for (var n = $el.find('.clone.right').length; n < tItem; n++) {\r\n                                $el.find('.lslide').eq(n).clone().removeClass('lslide').addClass('clone right').appendTo($el);\r\n                                scene++;\r\n                            }\r\n                            for (var m = $el.find('.lslide').length - $el.find('.clone.left').length; m > ($el.find('.lslide').length - tItem); m--) {\r\n                                $el.find('.lslide').eq(m - 1).clone().removeClass('lslide').addClass('clone left').prependTo($el);\r\n                            }\r\n                            $children = $el.children();\r\n                        } else {\r\n                            if ($children.hasClass('clone')) {\r\n                                $el.find('.clone').remove();\r\n                                $this.move($el, 0);\r\n                            }\r\n                        }\r\n                    };\r\n                    refresh.clone();\r\n                }\r\n                refresh.sSW = function () {\r\n                    length = $children.length;\r\n                    if (settings.rtl === true && settings.vertical === false) {\r\n                        gutter = 'margin-left';\r\n                    }\r\n                    if (settings.autoWidth === false) {\r\n                        $children.css(property, slideWidth + 'px');\r\n                    }\r\n                    $children.css(gutter, settings.slideMargin + 'px');\r\n                    w = refresh.calWidth(false);\r\n                    $el.css(property, w + 'px');\r\n                    if (settings.loop === true && settings.mode === 'slide') {\r\n                        if (on === false) {\r\n                            scene = $el.find('.clone.left').length;\r\n                        }\r\n                    }\r\n                };\r\n                refresh.calL = function () {\r\n                    $children = $el.children();\r\n                    length = $children.length;\r\n                };\r\n                if (this.doCss()) {\r\n                    $slide.addClass('usingCss');\r\n                }\r\n                refresh.calL();\r\n                if (settings.mode === 'slide') {\r\n                    refresh.calSW();\r\n                    refresh.sSW();\r\n                    if (settings.loop === true) {\r\n                        slideValue = $this.slideValue();\r\n                        this.move($el, slideValue);\r\n                    }\r\n                    if (settings.vertical === false) {\r\n                        this.setHeight($el, false);\r\n                    }\r\n\r\n                } else {\r\n                    this.setHeight($el, true);\r\n                    $el.addClass('lSFade');\r\n                    if (!this.doCss()) {\r\n                        $children.fadeOut(0);\r\n                        $children.eq(scene).fadeIn(0);\r\n                    }\r\n                }\r\n                if (settings.loop === true && settings.mode === 'slide') {\r\n                    $children.eq(scene).addClass('active');\r\n                } else {\r\n                    $children.first().addClass('active');\r\n                }\r\n            },\r\n            pager: function () {\r\n                var $this = this;\r\n                refresh.createPager = function () {\r\n                    thumbWidth = (elSize - ((settings.thumbItem * (settings.thumbMargin)) - settings.thumbMargin)) / settings.thumbItem;\r\n                    var $children = $slide.find('.lslide');\r\n                    var length = $slide.find('.lslide').length;\r\n                    var i = 0,\r\n                        pagers = '',\r\n                        v = 0;\r\n                    for (i = 0; i < length; i++) {\r\n                        if (settings.mode === 'slide') {\r\n                            // calculate scene * slide value\r\n                            if (!settings.autoWidth) {\r\n                                v = i * ((slideWidth + settings.slideMargin) * settings.slideMove);\r\n                            } else {\r\n                                v += ((parseInt($children.eq(i).width()) + settings.slideMargin) * settings.slideMove);\r\n                            }\r\n                        }\r\n                        var thumb = $children.eq(i * settings.slideMove).attr('data-thumb');\r\n                        if (settings.gallery === true) {\r\n                            pagers += '<li style=\"width:100%;' + property + ':' + thumbWidth + 'px;' + gutter + ':' + settings.thumbMargin + 'px\"><a href=\"#\"><img src=\"' + thumb + '\" /></a></li>';\r\n                        } else {\r\n                            pagers += '<li><a href=\"#\">' + (i + 1) + '</a></li>';\r\n                        }\r\n                        if (settings.mode === 'slide') {\r\n                            if ((v) >= w - elSize - settings.slideMargin) {\r\n                                i = i + 1;\r\n                                var minPgr = 2;\r\n                                if (settings.autoWidth) {\r\n                                    pagers += '<li><a href=\"#\">' + (i + 1) + '</a></li>';\r\n                                    minPgr = 1;\r\n                                }\r\n                                if (i < minPgr) {\r\n                                    pagers = null;\r\n                                    $slide.parent().addClass('noPager');\r\n                                } else {\r\n                                    $slide.parent().removeClass('noPager');\r\n                                }\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    var $cSouter = $slide.parent();\r\n                    $cSouter.find('.lSPager').html(pagers); \r\n                    if (settings.gallery === true) {\r\n                        if (settings.vertical === true) {\r\n                            // set Gallery thumbnail width\r\n                            $cSouter.find('.lSPager').css('width', settings.vThumbWidth + 'px');\r\n                        }\r\n                        pagerWidth = (i * (settings.thumbMargin + thumbWidth)) + 0.5;\r\n                        $cSouter.find('.lSPager').css({\r\n                            property: pagerWidth + 'px',\r\n                            'transition-duration': settings.speed + 'ms'\r\n                        });\r\n                        if (settings.vertical === true) {\r\n                            $slide.parent().css('padding-right', (settings.vThumbWidth + settings.galleryMargin) + 'px');\r\n                        }\r\n                        $cSouter.find('.lSPager').css(property, pagerWidth + 'px');\r\n                    }\r\n                    var $pager = $cSouter.find('.lSPager').find('li');\r\n                    $pager.first().addClass('active');\r\n                    $pager.on('click', function () {\r\n                        if (settings.loop === true && settings.mode === 'slide') {\r\n                            scene = scene + ($pager.index(this) - $cSouter.find('.lSPager').find('li.active').index());\r\n                        } else {\r\n                            scene = $pager.index(this);\r\n                        }\r\n                        $el.mode(false);\r\n                        if (settings.gallery === true) {\r\n                            $this.slideThumb();\r\n                        }\r\n                        return false;\r\n                    });\r\n                };\r\n                if (settings.pager) {\r\n                    var cl = 'lSpg';\r\n                    if (settings.gallery) {\r\n                        cl = 'lSGallery';\r\n                    }\r\n                    $slide.after('<ul class=\"lSPager ' + cl + '\"></ul>');\r\n                    var gMargin = (settings.vertical) ? 'margin-left' : 'margin-top';\r\n                    $slide.parent().find('.lSPager').css(gMargin, settings.galleryMargin + 'px');\r\n                    refresh.createPager();\r\n                }\r\n\r\n                setTimeout(function () {\r\n                    refresh.init();\r\n                }, 0);\r\n            },\r\n            setHeight: function (ob, fade) {\r\n                var obj = null,\r\n                    $this = this;\r\n                if (settings.loop) {\r\n                    obj = ob.children('.lslide ').first();\r\n                } else {\r\n                    obj = ob.children().first();\r\n                }\r\n                var setCss = function () {\r\n                    var tH = obj.outerHeight(),\r\n                        tP = 0,\r\n                        tHT = tH;\r\n                    if (fade) {\r\n                        tH = 0;\r\n                        tP = ((tHT) * 100) / elSize;\r\n                    }\r\n                    ob.css({\r\n                        'height': tH + 'px',\r\n                        'padding-bottom': tP + '%'\r\n                    });\r\n                };\r\n                setCss();\r\n                if (obj.find('img').length) {\r\n                    if ( obj.find('img')[0].complete) {\r\n                        setCss();\r\n                        if (!interval) {\r\n                            $this.auto();\r\n                        }   \r\n                    }else{\r\n                        obj.find('img').on('load', function () {\r\n                            setTimeout(function () {\r\n                                setCss();\r\n                                if (!interval) {\r\n                                    $this.auto();\r\n                                }\r\n                            }, 100);\r\n                        });\r\n                    }\r\n                }else{\r\n                    if (!interval) {\r\n                        $this.auto();\r\n                    }\r\n                }\r\n            },\r\n            active: function (ob, t) {\r\n                if (this.doCss() && settings.mode === 'fade') {\r\n                    $slide.addClass('on');\r\n                }\r\n                var sc = 0;\r\n                if (scene * settings.slideMove < length) {\r\n                    ob.removeClass('active');\r\n                    if (!this.doCss() && settings.mode === 'fade' && t === false) {\r\n                        ob.fadeOut(settings.speed);\r\n                    }\r\n                    if (t === true) {\r\n                        sc = scene;\r\n                    } else {\r\n                        sc = scene * settings.slideMove;\r\n                    }\r\n                    //t === true ? sc = scene : sc = scene * settings.slideMove;\r\n                    var l, nl;\r\n                    if (t === true) {\r\n                        l = ob.length;\r\n                        nl = l - 1;\r\n                        if (sc + 1 >= l) {\r\n                            sc = nl;\r\n                        }\r\n                    }\r\n                    if (settings.loop === true && settings.mode === 'slide') {\r\n                        //t === true ? sc = scene - $el.find('.clone.left').length : sc = scene * settings.slideMove;\r\n                        if (t === true) {\r\n                            sc = scene - $el.find('.clone.left').length;\r\n                        } else {\r\n                            sc = scene * settings.slideMove;\r\n                        }\r\n                        if (t === true) {\r\n                            l = ob.length;\r\n                            nl = l - 1;\r\n                            if (sc + 1 === l) {\r\n                                sc = nl;\r\n                            } else if (sc + 1 > l) {\r\n                                sc = 0;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    if (!this.doCss() && settings.mode === 'fade' && t === false) {\r\n                        ob.eq(sc).fadeIn(settings.speed);\r\n                    }\r\n                    ob.eq(sc).addClass('active');\r\n                } else {\r\n                    ob.removeClass('active');\r\n                    ob.eq(ob.length - 1).addClass('active');\r\n                    if (!this.doCss() && settings.mode === 'fade' && t === false) {\r\n                        ob.fadeOut(settings.speed);\r\n                        ob.eq(sc).fadeIn(settings.speed);\r\n                    }\r\n                }\r\n            },\r\n            move: function (ob, v) {\r\n                if (settings.rtl === true) {\r\n                    v = -v;\r\n                }\r\n                if (this.doCss()) {\r\n                    if (settings.vertical === true) {\r\n                        ob.css({\r\n                            'transform': 'translate3d(0px, ' + (-v) + 'px, 0px)',\r\n                            '-webkit-transform': 'translate3d(0px, ' + (-v) + 'px, 0px)'\r\n                        });\r\n                    } else {\r\n                        ob.css({\r\n                            'transform': 'translate3d(' + (-v) + 'px, 0px, 0px)',\r\n                            '-webkit-transform': 'translate3d(' + (-v) + 'px, 0px, 0px)',\r\n                        });\r\n                    }\r\n                } else {\r\n                    if (settings.vertical === true) {\r\n                        ob.css('position', 'relative').animate({\r\n                            top: -v + 'px'\r\n                        }, settings.speed, settings.easing);\r\n                    } else {\r\n                        ob.css('position', 'relative').animate({\r\n                            left: -v + 'px'\r\n                        }, settings.speed, settings.easing);\r\n                    }\r\n                }\r\n                var $thumb = $slide.parent().find('.lSPager').find('li');\r\n                this.active($thumb, true);\r\n            },\r\n            fade: function () {\r\n                this.active($children, false);\r\n                var $thumb = $slide.parent().find('.lSPager').find('li');\r\n                this.active($thumb, true);\r\n            },\r\n            slide: function () {\r\n                var $this = this;\r\n                refresh.calSlide = function () {\r\n                    if (w > elSize) {\r\n                        slideValue = $this.slideValue();\r\n                        $this.active($children, false);\r\n                        if ((slideValue) > w - elSize - settings.slideMargin) {\r\n                            slideValue = w - elSize - settings.slideMargin;\r\n                        } else if (slideValue < 0) {\r\n                            slideValue = 0;\r\n                        }\r\n                        $this.move($el, slideValue);\r\n                        if (settings.loop === true && settings.mode === 'slide') {\r\n                            if (scene >= (length - ($el.find('.clone.left').length / settings.slideMove))) {\r\n                                $this.resetSlide($el.find('.clone.left').length);\r\n                            }\r\n                            if (scene === 0) {\r\n                                $this.resetSlide($slide.find('.lslide').length);\r\n                            }\r\n                        }\r\n                    }\r\n                };\r\n                refresh.calSlide();\r\n            },\r\n            resetSlide: function (s) {\r\n                var $this = this;\r\n                $slide.find('.lSAction a').addClass('disabled');\r\n                setTimeout(function () {\r\n                    scene = s;\r\n                    $slide.css('transition-duration', '0ms');\r\n                    slideValue = $this.slideValue();\r\n                    $this.active($children, false);\r\n                    plugin.move($el, slideValue);\r\n                    setTimeout(function () {\r\n                        $slide.css('transition-duration', settings.speed + 'ms');\r\n                        $slide.find('.lSAction a').removeClass('disabled');\r\n                    }, 50);\r\n                }, settings.speed + 100);\r\n            },\r\n            slideValue: function () {\r\n                var _sV = 0;\r\n                if (settings.autoWidth === false) {\r\n                    _sV = scene * ((slideWidth + settings.slideMargin) * settings.slideMove);\r\n                } else {\r\n                    _sV = 0;\r\n                    for (var i = 0; i < scene; i++) {\r\n                        _sV += (parseInt($children.eq(i).width()) + settings.slideMargin);\r\n                    }\r\n                }\r\n                return _sV;\r\n            },\r\n            slideThumb: function () {\r\n                var position;\r\n                switch (settings.currentPagerPosition) {\r\n                case 'left':\r\n                    position = 0;\r\n                    break;\r\n                case 'middle':\r\n                    position = (elSize / 2) - (thumbWidth / 2);\r\n                    break;\r\n                case 'right':\r\n                    position = elSize - thumbWidth;\r\n                }\r\n                var sc = scene - $el.find('.clone.left').length;\r\n                var $pager = $slide.parent().find('.lSPager');\r\n                if (settings.mode === 'slide' && settings.loop === true) {\r\n                    if (sc >= $pager.children().length) {\r\n                        sc = 0;\r\n                    } else if (sc < 0) {\r\n                        sc = $pager.children().length;\r\n                    }\r\n                }\r\n                var thumbSlide = sc * ((thumbWidth + settings.thumbMargin)) - (position);\r\n                if ((thumbSlide + elSize) > pagerWidth) {\r\n                    thumbSlide = pagerWidth - elSize - settings.thumbMargin;\r\n                }\r\n                if (thumbSlide < 0) {\r\n                    thumbSlide = 0;\r\n                }\r\n                this.move($pager, thumbSlide);\r\n            },\r\n            auto: function () {\r\n                if (settings.auto) {\r\n                    clearInterval(interval);\r\n                    interval = setInterval(function () {\r\n                        $el.goToNextSlide();\r\n                    }, settings.pause);\r\n                }\r\n            },\r\n            pauseOnHover: function(){\r\n                var $this = this;\r\n                if (settings.auto && settings.pauseOnHover) {\r\n                    $slide.on('mouseenter', function(){\r\n                        $(this).addClass('ls-hover');\r\n                        $el.pause();\r\n                        settings.auto = true;\r\n                    });\r\n                    $slide.on('mouseleave',function(){\r\n                        $(this).removeClass('ls-hover');\r\n                        if (!$slide.find('.lightSlider').hasClass('lsGrabbing')) {\r\n                            $this.auto();\r\n                        }\r\n                    });\r\n                }\r\n            },\r\n            touchMove: function (endCoords, startCoords) {\r\n                $slide.css('transition-duration', '0ms');\r\n                if (settings.mode === 'slide') {\r\n                    var distance = endCoords - startCoords;\r\n                    var swipeVal = slideValue - distance;\r\n                    if ((swipeVal) >= w - elSize - settings.slideMargin) {\r\n                        if (settings.freeMove === false) {\r\n                            swipeVal = w - elSize - settings.slideMargin;\r\n                        } else {\r\n                            var swipeValT = w - elSize - settings.slideMargin;\r\n                            swipeVal = swipeValT + ((swipeVal - swipeValT) / 5);\r\n\r\n                        }\r\n                    } else if (swipeVal < 0) {\r\n                        if (settings.freeMove === false) {\r\n                            swipeVal = 0;\r\n                        } else {\r\n                            swipeVal = swipeVal / 5;\r\n                        }\r\n                    }\r\n                    this.move($el, swipeVal);\r\n                }\r\n            },\r\n\r\n            touchEnd: function (distance) {\r\n                $slide.css('transition-duration', settings.speed + 'ms');\r\n                if (settings.mode === 'slide') {\r\n                    var mxVal = false;\r\n                    var _next = true;\r\n                    slideValue = slideValue - distance;\r\n                    if ((slideValue) > w - elSize - settings.slideMargin) {\r\n                        slideValue = w - elSize - settings.slideMargin;\r\n                        if (settings.autoWidth === false) {\r\n                            mxVal = true;\r\n                        }\r\n                    } else if (slideValue < 0) {\r\n                        slideValue = 0;\r\n                    }\r\n                    var gC = function (next) {\r\n                        var ad = 0;\r\n                        if (!mxVal) {\r\n                            if (next) {\r\n                                ad = 1;\r\n                            }\r\n                        }\r\n                        if (!settings.autoWidth) {\r\n                            var num = slideValue / ((slideWidth + settings.slideMargin) * settings.slideMove);\r\n                            scene = parseInt(num) + ad;\r\n                            if (slideValue >= (w - elSize - settings.slideMargin)) {\r\n                                if (num % 1 !== 0) {\r\n                                    scene++;\r\n                                }\r\n                            }\r\n                        } else {\r\n                            var tW = 0;\r\n                            for (var i = 0; i < $children.length; i++) {\r\n                                tW += (parseInt($children.eq(i).width()) + settings.slideMargin);\r\n                                scene = i + ad;\r\n                                if (tW >= slideValue) {\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                    };\r\n                    if (distance >= settings.swipeThreshold) {\r\n                        gC(false);\r\n                        _next = false;\r\n                    } else if (distance <= -settings.swipeThreshold) {\r\n                        gC(true);\r\n                        _next = false;\r\n                    }\r\n                    $el.mode(_next);\r\n                    this.slideThumb();\r\n                } else {\r\n                    if (distance >= settings.swipeThreshold) {\r\n                        $el.goToPrevSlide();\r\n                    } else if (distance <= -settings.swipeThreshold) {\r\n                        $el.goToNextSlide();\r\n                    }\r\n                }\r\n            },\r\n\r\n\r\n\r\n            enableDrag: function () {\r\n                var $this = this;\r\n                if (!isTouch) {\r\n                    var startCoords = 0,\r\n                        endCoords = 0,\r\n                        isDraging = false;\r\n                    $slide.find('.lightSlider').addClass('lsGrab');\r\n                    $slide.on('mousedown', function (e) {\r\n                        if (w < elSize) {\r\n                            if (w !== 0) {\r\n                                return false;\r\n                            }\r\n                        }\r\n                        if ($(e.target).attr('class') !== ('lSPrev') && $(e.target).attr('class') !== ('lSNext')) {\r\n                            startCoords = (settings.vertical === true) ? e.pageY : e.pageX;\r\n                            isDraging = true;\r\n                            if (e.preventDefault) {\r\n                                e.preventDefault();\r\n                            } else {\r\n                                e.returnValue = false;\r\n                            }\r\n                            // ** Fix for webkit cursor issue https://code.google.com/p/chromium/issues/detail?id=26723\r\n                            $slide.scrollLeft += 1;\r\n                            $slide.scrollLeft -= 1;\r\n                            // *\r\n                            $slide.find('.lightSlider').removeClass('lsGrab').addClass('lsGrabbing');\r\n                            clearInterval(interval);\r\n                        }\r\n                    });\r\n                    $(window).on('mousemove', function (e) {\r\n                        if (isDraging) {\r\n                            endCoords = (settings.vertical === true) ? e.pageY : e.pageX;\r\n                            $this.touchMove(endCoords, startCoords);\r\n                        }\r\n                    });\r\n                    $(window).on('mouseup', function (e) {\r\n                        if (isDraging) {\r\n                            $slide.find('.lightSlider').removeClass('lsGrabbing').addClass('lsGrab');\r\n                            isDraging = false;\r\n                            endCoords = (settings.vertical === true) ? e.pageY : e.pageX;\r\n                            var distance = endCoords - startCoords;\r\n                            if (Math.abs(distance) >= settings.swipeThreshold) {\r\n                                $(window).on('click.ls', function (e) {\r\n                                    if (e.preventDefault) {\r\n                                        e.preventDefault();\r\n                                    } else {\r\n                                        e.returnValue = false;\r\n                                    }\r\n                                    e.stopImmediatePropagation();\r\n                                    e.stopPropagation();\r\n                                    $(window).off('click.ls');\r\n                                });\r\n                            }\r\n\r\n                            $this.touchEnd(distance);\r\n\r\n                        }\r\n                    });\r\n                }\r\n            },\r\n\r\n\r\n\r\n\r\n            enableTouch: function () {\r\n                var $this = this;\r\n                if (isTouch) {\r\n                    var startCoords = {},\r\n                        endCoords = {};\r\n                    $slide.on('touchstart', function (e) {\r\n                        endCoords = e.originalEvent.targetTouches[0];\r\n                        startCoords.pageX = e.originalEvent.targetTouches[0].pageX;\r\n                        startCoords.pageY = e.originalEvent.targetTouches[0].pageY;\r\n                        clearInterval(interval);\r\n                    });\r\n                    $slide.on('touchmove', function (e) {\r\n                        if (w < elSize) {\r\n                            if (w !== 0) {\r\n                                return false;\r\n                            }\r\n                        }\r\n                        var orig = e.originalEvent;\r\n                        endCoords = orig.targetTouches[0];\r\n                        var xMovement = Math.abs(endCoords.pageX - startCoords.pageX);\r\n                        var yMovement = Math.abs(endCoords.pageY - startCoords.pageY);\r\n                        if (settings.vertical === true) {\r\n                            if ((yMovement * 3) > xMovement) {\r\n                                e.preventDefault();\r\n                            }\r\n                            $this.touchMove(endCoords.pageY, startCoords.pageY);\r\n                        } else {\r\n                            if ((xMovement * 3) > yMovement) {\r\n                                e.preventDefault();\r\n                            }\r\n                            $this.touchMove(endCoords.pageX, startCoords.pageX);\r\n                        }\r\n\r\n                    });\r\n                    $slide.on('touchend', function () {\r\n                        if (w < elSize) {\r\n                            if (w !== 0) {\r\n                                return false;\r\n                            }\r\n                        }\r\n                        var distance;\r\n                        if (settings.vertical === true) {\r\n                            distance = endCoords.pageY - startCoords.pageY;\r\n                        } else {\r\n                            distance = endCoords.pageX - startCoords.pageX;\r\n                        }\r\n                        $this.touchEnd(distance);\r\n                    });\r\n                }\r\n            },\r\n            build: function () {\r\n                var $this = this;\r\n                $this.initialStyle();\r\n                if (this.doCss()) {\r\n\r\n                    if (settings.enableTouch === true) {\r\n                        $this.enableTouch();\r\n                    }\r\n                    if (settings.enableDrag === true) {\r\n                        $this.enableDrag();\r\n                    }\r\n                }\r\n\r\n                $(window).on('focus', function(){\r\n                    $this.auto();\r\n                });\r\n                \r\n                $(window).on('blur', function(){\r\n                    clearInterval(interval);\r\n                });\r\n\r\n                $this.pager();\r\n                $this.pauseOnHover();\r\n                $this.controls();\r\n                $this.keyPress();\r\n            }\r\n        };\r\n        plugin.build();\r\n        refresh.init = function () {\r\n            refresh.chbreakpoint();\r\n            if (settings.vertical === true) {\r\n                if (settings.item > 1) {\r\n                    elSize = settings.verticalHeight;\r\n                } else {\r\n                    elSize = $children.outerHeight();\r\n                }\r\n                $slide.css('height', elSize + 'px');\r\n            } else {\r\n                elSize = $slide.outerWidth();\r\n            }\r\n            if (settings.loop === true && settings.mode === 'slide') {\r\n                refresh.clone();\r\n            }\r\n            refresh.calL();\r\n            if (settings.mode === 'slide') {\r\n                $el.removeClass('lSSlide');\r\n            }\r\n            if (settings.mode === 'slide') {\r\n                refresh.calSW();\r\n                refresh.sSW();\r\n            }\r\n            setTimeout(function () {\r\n                if (settings.mode === 'slide') {\r\n                    $el.addClass('lSSlide');\r\n                }\r\n            }, 1000);\r\n            if (settings.pager) {\r\n                refresh.createPager();\r\n            }\r\n            if (settings.adaptiveHeight === true && settings.vertical === false) {\r\n                $el.css('height', $children.eq(scene).outerHeight(true));\r\n            }\r\n            if (settings.adaptiveHeight === false) {\r\n                if (settings.mode === 'slide') {\r\n                    if (settings.vertical === false) {\r\n                        plugin.setHeight($el, false);\r\n                    }else{\r\n                        plugin.auto();\r\n                    }\r\n                } else {\r\n                    plugin.setHeight($el, true);\r\n                }\r\n            }\r\n            if (settings.gallery === true) {\r\n                plugin.slideThumb();\r\n            }\r\n            if (settings.mode === 'slide') {\r\n                plugin.slide();\r\n            }\r\n            if (settings.autoWidth === false) {\r\n                if ($children.length <= settings.item) {\r\n                    $slide.find('.lSAction').hide();\r\n                } else {\r\n                    $slide.find('.lSAction').show();\r\n                }\r\n            } else {\r\n                if ((refresh.calWidth(false) < elSize) && (w !== 0)) {\r\n                    $slide.find('.lSAction').hide();\r\n                } else {\r\n                    $slide.find('.lSAction').show();\r\n                }\r\n            }\r\n        };\r\n        $el.goToPrevSlide = function () {\r\n            if (scene > 0) {\r\n                settings.onBeforePrevSlide.call(this, $el, scene);\r\n                scene--;\r\n                $el.mode(false);\r\n                if (settings.gallery === true) {\r\n                    plugin.slideThumb();\r\n                }\r\n            } else {\r\n                if (settings.loop === true) {\r\n                    settings.onBeforePrevSlide.call(this, $el, scene);\r\n                    if (settings.mode === 'fade') {\r\n                        var l = (length - 1);\r\n                        scene = parseInt(l / settings.slideMove);\r\n                    }\r\n                    $el.mode(false);\r\n                    if (settings.gallery === true) {\r\n                        plugin.slideThumb();\r\n                    }\r\n                } else if (settings.slideEndAnimation === true) {\r\n                    $el.addClass('leftEnd');\r\n                    setTimeout(function () {\r\n                        $el.removeClass('leftEnd');\r\n                    }, 400);\r\n                }\r\n            }\r\n        };\r\n        $el.goToNextSlide = function () {\r\n            var nextI = true;\r\n            if (settings.mode === 'slide') {\r\n                var _slideValue = plugin.slideValue();\r\n                nextI = _slideValue < w - elSize - settings.slideMargin;\r\n            }\r\n            if (((scene * settings.slideMove) < length - settings.slideMove) && nextI) {\r\n                settings.onBeforeNextSlide.call(this, $el, scene);\r\n                scene++;\r\n                $el.mode(false);\r\n                if (settings.gallery === true) {\r\n                    plugin.slideThumb();\r\n                }\r\n            } else {\r\n                if (settings.loop === true) {\r\n                    settings.onBeforeNextSlide.call(this, $el, scene);\r\n                    scene = 0;\r\n                    $el.mode(false);\r\n                    if (settings.gallery === true) {\r\n                        plugin.slideThumb();\r\n                    }\r\n                } else if (settings.slideEndAnimation === true) {\r\n                    $el.addClass('rightEnd');\r\n                    setTimeout(function () {\r\n                        $el.removeClass('rightEnd');\r\n                    }, 400);\r\n                }\r\n            }\r\n        };\r\n        $el.mode = function (_touch) {\r\n            if (settings.adaptiveHeight === true && settings.vertical === false) {\r\n                $el.css('height', $children.eq(scene).outerHeight(true));\r\n            }\r\n            if (on === false) {\r\n                if (settings.mode === 'slide') {\r\n                    if (plugin.doCss()) {\r\n                        $el.addClass('lSSlide');\r\n                        if (settings.speed !== '') {\r\n                            $slide.css('transition-duration', settings.speed + 'ms');\r\n                        }\r\n                        if (settings.cssEasing !== '') {\r\n                            $slide.css('transition-timing-function', settings.cssEasing);\r\n                        }\r\n                    }\r\n                } else {\r\n                    if (plugin.doCss()) {\r\n                        if (settings.speed !== '') {\r\n                            $el.css('transition-duration', settings.speed + 'ms');\r\n                        }\r\n                        if (settings.cssEasing !== '') {\r\n                            $el.css('transition-timing-function', settings.cssEasing);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (!_touch) {\r\n                settings.onBeforeSlide.call(this, $el, scene);\r\n            }\r\n            if (settings.mode === 'slide') {\r\n                plugin.slide();\r\n            } else {\r\n                plugin.fade();\r\n            }\r\n            if (!$slide.hasClass('ls-hover')) {\r\n                plugin.auto();\r\n            }\r\n            setTimeout(function () {\r\n                if (!_touch) {\r\n                    settings.onAfterSlide.call(this, $el, scene);\r\n                }\r\n            }, settings.speed);\r\n            on = true;\r\n        };\r\n        $el.play = function () {\r\n            $el.goToNextSlide();\r\n            settings.auto = true;\r\n            plugin.auto();\r\n        };\r\n        $el.pause = function () {\r\n            settings.auto = false;\r\n            clearInterval(interval);\r\n        };\r\n        $el.refresh = function () {\r\n            refresh.init();\r\n        };\r\n        $el.getCurrentSlideCount = function () {\r\n            var sc = scene;\r\n            if (settings.loop) {\r\n                var ln = $slide.find('.lslide').length,\r\n                    cl = $el.find('.clone.left').length;\r\n                if (scene <= cl - 1) {\r\n                    sc = ln + (scene - cl);\r\n                } else if (scene >= (ln + cl)) {\r\n                    sc = scene - ln - cl;\r\n                } else {\r\n                    sc = scene - cl;\r\n                }\r\n            }\r\n            return sc + 1;\r\n        }; \r\n        $el.getTotalSlideCount = function () {\r\n            return $slide.find('.lslide').length;\r\n        };\r\n        $el.goToSlide = function (s) {\r\n            if (settings.loop) {\r\n                scene = (s + $el.find('.clone.left').length - 1);\r\n            } else {\r\n                scene = s;\r\n            }\r\n            $el.mode(false);\r\n            if (settings.gallery === true) {\r\n                plugin.slideThumb();\r\n            }\r\n        };\r\n        $el.destroy = function () {\r\n            if ($el.lightSlider) {\r\n                $el.goToPrevSlide = function(){};\r\n                $el.goToNextSlide = function(){};\r\n                $el.mode = function(){};\r\n                $el.play = function(){};\r\n                $el.pause = function(){};\r\n                $el.refresh = function(){};\r\n                $el.getCurrentSlideCount = function(){};\r\n                $el.getTotalSlideCount = function(){};\r\n                $el.goToSlide = function(){}; \r\n                $el.lightSlider = null;\r\n                refresh = {\r\n                    init : function(){}\r\n                };\r\n                $el.parent().parent().find('.lSAction, .lSPager').remove();\r\n                $el.removeClass('lightSlider lSFade lSSlide lsGrab lsGrabbing leftEnd right').removeAttr('style').unwrap().unwrap();\r\n                $el.children().removeAttr('style');\r\n                $children.removeClass('lslide active');\r\n                $el.find('.clone').remove();\r\n                $children = null;\r\n                interval = null;\r\n                on = false;\r\n                scene = 0;\r\n            }\r\n\r\n        };\r\n        setTimeout(function () {\r\n            settings.onSliderLoad.call(this, $el);\r\n        }, 10);\r\n        $(window).on('resize orientationchange', function (e) {\r\n            setTimeout(function () {\r\n                if (e.preventDefault) {\r\n                    e.preventDefault();\r\n                } else {\r\n                    e.returnValue = false;\r\n                }\r\n                refresh.init();\r\n            }, 200);\r\n        });\r\n        return this;\r\n    };\r\n}(jQuery));\r\n"]},"metadata":{},"sourceType":"script"}